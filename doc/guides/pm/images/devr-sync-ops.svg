<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="491px" preserveAspectRatio="none" style="width:564px;height:491px;background:#FFFFFF;" version="1.1" viewBox="0 0 564 491" width="564px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="370.0641" style="stroke:#000000;stroke-width:1.0;" width="10" x="199.5" y="67.8969"/><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="204.5" y="193.3625"/><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="204.5" y="388.961"/><rect fill="#FFFFFF" height="130.8656" style="stroke:#000000;stroke-width:1.0;" width="10" x="436.5" y="97.4969"/><rect fill="#FFFFFF" height="130.8656" style="stroke:#000000;stroke-width:1.0;" width="10" x="436.5" y="293.0954"/><rect fill="#FFFFFF" height="60.7328" style="stroke:#000000;stroke-width:1.0;" width="367.5" x="153" y="154.6297"/><rect fill="#FFFFFF" height="60.7328" style="stroke:#000000;stroke-width:1.0;" width="367.5" x="153" y="350.2282"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="68" x2="68" y1="36.2969" y2="455.961"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="204" x2="204" y1="36.2969" y2="455.961"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="441.5" x2="441.5" y1="36.2969" y2="455.961"/><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="97" x="20" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="83" x="27" y="24.9951">Application</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="97" x="20" y="454.961"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="83" x="27" y="474.9561">Application</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="63" x="173" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49" x="180" y="24.9951">Device</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="63" x="173" y="454.961"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="49" x="180" y="474.9561">Device</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="118" x="382.5" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104" x="389.5" y="24.9951">PM Subsystem</text><rect fill="#FFFFFF" height="30.2969" style="stroke:#000000;stroke-width:1.0;" width="118" x="382.5" y="454.961"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104" x="389.5" y="474.9561">PM Subsystem</text><rect fill="#FFFFFF" height="370.0641" style="stroke:#000000;stroke-width:1.0;" width="10" x="199.5" y="67.8969"/><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="204.5" y="193.3625"/><rect fill="#FFFFFF" height="14" style="stroke:#000000;stroke-width:1.0;" width="10" x="204.5" y="388.961"/><rect fill="#FFFFFF" height="130.8656" style="stroke:#000000;stroke-width:1.0;" width="10" x="436.5" y="97.4969"/><rect fill="#FFFFFF" height="130.8656" style="stroke:#000000;stroke-width:1.0;" width="10" x="436.5" y="293.0954"/><polygon fill="#000000" points="187.5,63.8969,197.5,67.8969,187.5,71.8969,191.5,67.8969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="68.5" x2="193.5" y1="67.8969" y2="67.8969"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="112" x="75.5" y="62.3349">operation(dev)</text><polygon fill="#000000" points="424.5,93.4969,434.5,97.4969,424.5,101.4969,428.5,97.4969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="209.5" x2="430.5" y1="97.4969" y2="97.4969"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="208" x="216.5" y="91.9349">pm_device_runtime_get(dev)</text><line style="stroke:#000000;stroke-width:1.0;" x1="446.5" x2="488.5" y1="126.6297" y2="126.6297"/><line style="stroke:#000000;stroke-width:1.0;" x1="488.5" x2="488.5" y1="126.6297" y2="139.6297"/><line style="stroke:#000000;stroke-width:1.0;" x1="447.5" x2="488.5" y1="139.6297" y2="139.6297"/><polygon fill="#000000" points="457.5,135.6297,447.5,139.6297,457.5,143.6297,453.5,139.6297" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97" x="453.5" y="121.5638">Increase usage</text><path d="M153,154.6297 L219,154.6297 L219,161.6297 L209,171.6297 L153,171.6297 L153,154.6297 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="60.7328" style="stroke:#000000;stroke-width:1.0;" width="367.5" x="153" y="154.6297"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="168" y="167.6966">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="234" y="166.8402">[usage == 1]</text><polygon fill="#000000" points="225.5,189.3625,215.5,193.3625,225.5,197.3625,221.5,193.3625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="219.5" x2="435.5" y1="193.3625" y2="193.3625"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="184" x="231.5" y="187.8005">PM_DEVICE_ACTION_RESUME</text><polygon fill="#000000" points="424.5,203.3625,434.5,207.3625,424.5,211.3625,428.5,207.3625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="209.5" x2="430.5" y1="207.3625" y2="207.3625"/><polygon fill="#000000" points="220.5,224.3625,210.5,228.3625,220.5,232.3625,216.5,228.3625" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="214.5" x2="440.5" y1="228.3625" y2="228.3625"/><path d="M162,241.3625 L162,266.3625 L246,266.3625 L246,251.3625 L236,241.3625 L162,241.3625 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M236,241.3625 L236,251.3625 L246,251.3625 L236,241.3625 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="63" x="168" y="258.4294">Operation</text><polygon fill="#000000" points="424.5,289.0954,434.5,293.0954,424.5,297.0954,428.5,293.0954" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="209.5" x2="430.5" y1="293.0954" y2="293.0954"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="208" x="216.5" y="287.5334">pm_device_runtime_put(dev)</text><line style="stroke:#000000;stroke-width:1.0;" x1="446.5" x2="488.5" y1="322.2282" y2="322.2282"/><line style="stroke:#000000;stroke-width:1.0;" x1="488.5" x2="488.5" y1="322.2282" y2="335.2282"/><line style="stroke:#000000;stroke-width:1.0;" x1="447.5" x2="488.5" y1="335.2282" y2="335.2282"/><polygon fill="#000000" points="457.5,331.2282,447.5,335.2282,457.5,339.2282,453.5,335.2282" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104" x="453.5" y="317.1623">Decrease usage</text><path d="M153,350.2282 L219,350.2282 L219,357.2282 L209,367.2282 L153,367.2282 L153,350.2282 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="60.7328" style="stroke:#000000;stroke-width:1.0;" width="367.5" x="153" y="350.2282"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="168" y="363.2951">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84" x="234" y="362.4386">[usage == 0]</text><polygon fill="#000000" points="225.5,384.961,215.5,388.961,225.5,392.961,221.5,388.961" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="219.5" x2="435.5" y1="388.961" y2="388.961"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="192" x="231.5" y="383.399">PM_DEVICE_ACTION_SUSPEND</text><polygon fill="#000000" points="424.5,398.961,434.5,402.961,424.5,406.961,428.5,402.961" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="209.5" x2="430.5" y1="402.961" y2="402.961"/><polygon fill="#000000" points="220.5,419.961,210.5,423.961,220.5,427.961,216.5,423.961" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="214.5" x2="440.5" y1="423.961" y2="423.961"/><polygon fill="#000000" points="79.5,433.961,69.5,437.961,79.5,441.961,75.5,437.961" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.5" x2="203.5" y1="437.961" y2="437.961"/><!--MD5=[5a0f49c6ad1fdb17cc42223735c08944]
@startuml
!theme plain

participant "Application" as APP
participant "Device" as DEV
participant "PM Subsystem" as PM

APP -> DEV ++: ""operation(dev)""
DEV -> PM ++: ""pm_device_runtime_get(dev)""
PM -> PM: Increase usage
alt usage == 1
   PM -> DEV ++: ""PM_DEVICE_ACTION_RESUME""
   return
end
return

note over DEV: Operation

DEV -> PM ++: ""pm_device_runtime_put(dev)""
PM -> PM: Decrease usage
alt usage == 0
   PM -> DEV ++: ""PM_DEVICE_ACTION_SUSPEND""
   return
end
return

return
@enduml

@startuml







<style>
  root {
    BackgroundColor white
    FontColor black
    FontName Verdana
    HyperLinkColor blue
    LineColor black
    LineThickness 1
    Margin 5
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor black
skinparam BackgroundColor white
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy nosolid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor black
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam Boundary {
  FontColor black
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor black
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor white
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor black
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor black
  FontName Verdana
}
skinparam Footer {
  FontColor black
  FontName Verdana
}
skinparam Header {
  FontColor black
  FontName Verdana
}
skinparam Hyperlink {
  Color blue
}
skinparam IconPackage {
  Color black
  BackgroundColor white
}
skinparam IconPrivate {
  Color black
  BackgroundColor white
}
skinparam IconProtected {
  Color black
  BackgroundColor white
}
skinparam IconPublic {
  Color black
  BackgroundColor white
}
skinparam Note {
  FontColor black
  FontName Verdana
}
skinparam Object {
  BorderColor black
}
skinparam Package {
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam State {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeA {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeC {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeE {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeI {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeN {
  BackgroundColor white
  BorderColor black
}
skinparam UseCaseStereoType {
  FontColor black
  FontName Verdana
}

participant "Application" as APP
participant "Device" as DEV
participant "PM Subsystem" as PM

APP -> DEV ++: ""operation(dev)""
DEV -> PM ++: ""pm_device_runtime_get(dev)""
PM -> PM: Increase usage
alt usage == 1
   PM -> DEV ++: ""PM_DEVICE_ACTION_RESUME""
   return
end
return

note over DEV: Operation

DEV -> PM ++: ""pm_device_runtime_put(dev)""
PM -> PM: Decrease usage
alt usage == 0
   PM -> DEV ++: ""PM_DEVICE_ACTION_SUSPEND""
   return
end
return

return
@enduml

PlantUML version 1.2021.14beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>